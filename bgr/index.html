<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Z â€¢ Background Remover</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg0:#070d0b;
      --bg1:#0b1511;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.05);
      --line: rgba(255,255,255,.10);
      --text:#f2f3f1;
      --muted: rgba(242,243,241,.70);
      --accent:#7ee08a;    /* green highlight */
      --accent2:#cbb889;   /* warm cream/brass */
      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --radius: 22px;
      --r2: 18px;
      --trans: 220ms cubic-bezier(.22,.9,.16,1);
      --max: 1180px;
    }

    *{box-sizing:border-box;}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--text);
      background: linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* --- BACKGROUND (FERN/LEAF VIBE) --- */
    .bg{
      position:fixed;
      inset:0;
      z-index:-2;
      background:
        radial-gradient(900px 520px at 20% 15%, rgba(126,224,138,.12), transparent 60%),
        radial-gradient(800px 480px at 80% 20%, rgba(203,184,137,.10), transparent 62%),
        radial-gradient(900px 620px at 50% 90%, rgba(126,224,138,.08), transparent 68%),
        linear-gradient(180deg, #060b09, #0b1511);
    }

    /* Faux foliage texture (no external image) */
    .bg::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(220px 180px at 18% 22%, rgba(40,80,55,.45), transparent 65%),
        radial-gradient(300px 240px at 28% 30%, rgba(25,65,45,.45), transparent 70%),
        radial-gradient(280px 220px at 62% 20%, rgba(25,80,50,.35), transparent 68%),
        radial-gradient(360px 260px at 75% 32%, rgba(20,60,40,.35), transparent 70%),
        radial-gradient(380px 320px at 55% 70%, rgba(25,70,45,.28), transparent 72%),
        radial-gradient(240px 200px at 82% 78%, rgba(30,90,55,.20), transparent 70%);
      filter: blur(0.5px);
      opacity:.95;
    }

    /* grid lines like reference */
    .bg::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 56px 56px;
      mask-image: radial-gradient(circle at 50% 25%, rgba(0,0,0,.75), transparent 72%);
      opacity:.18;
      pointer-events:none;
    }

    /* vignette */
    .vignette{
      position:fixed; inset:-2px; z-index:-1;
      background: radial-gradient(circle at 50% 30%, transparent 35%, rgba(0,0,0,.70) 85%);
      pointer-events:none;
      opacity:.95;
    }

    .wrap{
      max-width: var(--max);
      margin:0 auto;
      padding: 22px 16px 34px;
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    /* --- NAV --- */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      padding: 14px 14px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));
      border-radius: var(--radius);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 40px rgba(0,0,0,.28);
    }

    .brand{
      display:flex; align-items:center; gap:10px; min-width:0;
      font-weight:800;
      letter-spacing:.3px;
    }
    .mark{
      width:38px;height:38px;border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(126,224,138,.95), rgba(203,184,137,.90));
      color:#09110d;
      font-weight:900;
      border:1px solid rgba(255,255,255,.18);
      box-shadow: 0 18px 46px rgba(126,224,138,.12);
      flex:0 0 auto;
    }
    .brand span{
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    .navlinks{
      display:flex; align-items:center; gap:14px;
      color: var(--muted);
      font-size: 13px;
      flex-wrap:wrap;
      justify-content:center;
    }
    .navlinks a{
      color: var(--muted);
      text-decoration:none;
      padding: 8px 10px;
      border-radius: 999px;
      transition: background var(--trans), transform var(--trans), color var(--trans);
    }
    .navlinks a:hover{
      background: rgba(255,255,255,.06);
      color: var(--text);
      transform: translateY(-1px);
    }

    .navright{
      display:flex; align-items:center; gap:10px;
      color: var(--muted);
      font-size: 13px;
      white-space:nowrap;
    }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding: 9px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
    }
    .dot{
      width:8px;height:8px;border-radius:99px;
      background: var(--accent);
      box-shadow: 0 0 0 5px rgba(126,224,138,.10);
    }

    /* --- SECTIONS / GLASS --- */
    .glass{
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow:hidden;
      min-width:0;
    }

    /* --- HERO --- */
    .hero{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:16px;
      padding: 18px;
      align-items:stretch;
    }

    .hero-left{
      padding: 10px 6px 10px 8px;
      display:flex;
      flex-direction:column;
      gap:14px;
      min-width:0;
    }
    .kicker{
      color: rgba(242,243,241,.78);
      font-size: 13px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .kicker .pill{
      padding: 8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.20);
    }
    .title{
      margin:0;
      font-size: clamp(30px, 4.3vw, 54px);
      line-height: 1.02;
      letter-spacing: -.6px;
    }
    .subtitle{
      margin:0;
      color: var(--muted);
      max-width: 58ch;
      line-height:1.55;
      font-size: 14px;
    }

    .hero-cta{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap;
      margin-top: 6px;
    }

    .btn{
      border:0;
      cursor:pointer;
      user-select:none;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 800;
      transition: transform var(--trans), filter var(--trans), background var(--trans);
      display:inline-flex; align-items:center; gap:10px;
      white-space:nowrap;
    }
    .btn:active{ transform: translateY(1px); }

    .btn.primary{
      color:#07110d;
      background: linear-gradient(135deg, rgba(126,224,138,.96), rgba(203,184,137,.92));
      box-shadow: 0 18px 60px rgba(126,224,138,.10);
    }
    .btn.primary:hover{ filter: brightness(1.03); transform: translateY(-1px); }

    .btn.ghost{
      color: var(--text);
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.12);
    }
    .btn.ghost:hover{ background: rgba(255,255,255,.08); transform: translateY(-1px); }

    .uploadbox{
      margin-top: 10px;
      border: 1px dashed rgba(255,255,255,.18);
      background: rgba(0,0,0,.18);
      border-radius: var(--r2);
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-width:0;
    }

    .row{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    }
    .file{
      flex: 1 1 260px;
      min-width: 220px;
    }

    input[type="file"]{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: var(--muted);
      outline:none;
    }
    input[type="file"]::file-selector-button{
      border:0;
      padding: 10px 12px;
      margin-right:10px;
      border-radius: 12px;
      font-weight: 900;
      color:#07110d;
      background: linear-gradient(135deg, rgba(126,224,138,.96), rgba(203,184,137,.92));
      cursor:pointer;
    }

    .meta{
      display:flex; gap:10px; flex-wrap:wrap;
      font-size:12px; color: var(--muted);
    }
    .chipmini{
      padding: 7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      max-width:100%;
      overflow:hidden;
      white-space:nowrap;
      text-overflow:ellipsis;
    }

    /* right product card like reference */
    .hero-right{
      display:flex;
      flex-direction:column;
      gap:12px;
      padding: 10px;
      min-width:0;
    }

    .product-card{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 26px;
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      height:100%;
      justify-content:space-between;
      min-width:0;
    }
    .plant{
      border-radius: 22px;
      background:
        radial-gradient(160px 120px at 55% 25%, rgba(126,224,138,.28), transparent 65%),
        linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.10);
      min-height: 210px;
      display:grid;
      place-items:center;
      position:relative;
      overflow:hidden;
    }
    .plant::before{
      content:"";
      position:absolute; inset:-40px;
      background:
        radial-gradient(80px 60px at 30% 35%, rgba(126,224,138,.30), transparent 70%),
        radial-gradient(90px 70px at 60% 55%, rgba(203,184,137,.22), transparent 72%),
        radial-gradient(70px 60px at 70% 30%, rgba(126,224,138,.20), transparent 70%);
      filter: blur(2px);
      opacity:.9;
    }
    .plant .zbadge{
      position:relative;
      width:92px;height:92px;border-radius: 999px;
      display:grid; place-items:center;
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.16);
      font-weight: 900;
      font-size: 42px;
      letter-spacing:-1px;
      color: rgba(242,243,241,.92);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
    }

    .product-card .btn{
      justify-content:center;
      width:100%;
    }

    /* --- SECOND SECTION (image + stats pills) --- */
    .split{
      display:grid;
      grid-template-columns: 1.25fr .75fr;
      gap:16px;
      padding: 18px;
      align-items:stretch;
    }

    .media{
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.12);
      background:
        linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.05)),
        radial-gradient(600px 220px at 50% 0%, rgba(126,224,138,.10), transparent 60%);
      min-height: 280px;
      overflow:hidden;
      position:relative;
      display:grid;
      place-items:end start;
      padding: 18px;
    }
    .media::before{
      content:"";
      position:absolute; inset:-40px;
      background:
        radial-gradient(220px 170px at 20% 40%, rgba(40,90,60,.38), transparent 70%),
        radial-gradient(260px 200px at 55% 50%, rgba(35,75,55,.35), transparent 72%),
        radial-gradient(240px 200px at 80% 35%, rgba(25,60,45,.30), transparent 70%);
      filter: blur(8px);
      opacity:.85;
    }
    .media .play{
      position:relative;
      width:62px;height:62px;border-radius:999px;
      background: rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.14);
      display:grid;
      place-items:center;
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .media .play:before{
      content:"";
      width:0;height:0;
      border-left: 14px solid rgba(242,243,241,.92);
      border-top: 9px solid transparent;
      border-bottom: 9px solid transparent;
      margin-left: 3px;
    }

    .stats{
      display:flex;
      flex-direction:column;
      gap:12px;
      min-width:0;
    }

    .note{
      color: var(--muted);
      font-size: 13px;
      line-height:1.55;
      padding: 10px 10px 0;
    }

    .statpill{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 18px;
      padding: 16px 16px;
      display:flex;
      align-items:baseline;
      gap:10px;
      box-shadow: 0 18px 50px rgba(0,0,0,.28);
    }
    .statpill b{
      font-size: 26px;
      letter-spacing:-.5px;
    }
    .statpill span{
      color: var(--muted);
      font-size: 13px;
    }

    /* --- REASONS GRID (1..4) --- */
    .section-title{
      text-align:center;
      padding: 4px 10px 0;
      margin-top: 4px;
    }
    .section-title h3{
      margin: 0;
      font-size: clamp(18px, 2.2vw, 26px);
      letter-spacing:-.3px;
    }
    .section-title p{
      margin: 8px auto 0;
      color: var(--muted);
      font-size: 13px;
      max-width: 70ch;
      line-height:1.55;
    }

    .reasons{
      padding: 18px;
    }

    .grid4{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:12px;
      margin-top: 14px;
    }

    .reason{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 20px;
      padding: 14px 14px 16px;
      min-height: 150px;
      position:relative;
      overflow:hidden;
      transition: transform var(--trans), background var(--trans);
    }
    .reason:hover{
      transform: translateY(-2px);
      background: rgba(255,255,255,.07);
    }
    .reason .num{
      font-size: 44px;
      font-weight: 900;
      opacity:.22;
      letter-spacing:-2px;
      margin-bottom: 4px;
    }
    .reason h4{
      margin: 0;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .reason p{
      margin: 8px 0 0;
      color: var(--muted);
      font-size: 12.5px;
      line-height:1.55;
    }

    /* --- CONTACT SECTION --- */
    .contact{
      display:grid;
      grid-template-columns: 1fr 1.2fr;
      gap:16px;
      padding: 18px;
      align-items:center;
    }
    .contact-left{
      display:flex;
      flex-direction:column;
      gap:10px;
      padding: 8px;
      min-width:0;
    }
    .contact-left h3{
      margin:0;
      font-size: clamp(22px, 3vw, 34px);
      letter-spacing:-.4px;
      line-height:1.05;
    }
    .contact-left p{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height:1.55;
      max-width: 52ch;
    }
    .social{
      display:flex; gap:10px; margin-top: 8px;
    }
    .iconbtn{
      width:40px;height:40px;border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      display:grid; place-items:center;
      color: rgba(242,243,241,.90);
      text-decoration:none;
      transition: transform var(--trans), background var(--trans);
    }
    .iconbtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); }

    .form{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 22px;
      padding: 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      min-width:0;
    }
    .field{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: var(--text);
      outline:none;
    }
    .field::placeholder{ color: rgba(242,243,241,.55); }
    textarea.field{ min-height: 110px; resize: vertical; }

    .smallnote{
      color: rgba(242,243,241,.55);
      font-size: 11.5px;
      line-height:1.45;
    }

    footer{
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      padding: 6px 2px 0;
      color: rgba(242,243,241,.55);
      font-size: 12px;
    }

    /* ---------------- POPUP (RESPONSIVE FULLSCREEN ON SMALL) ---------------- */
    .overlay{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.64);
      backdrop-filter: blur(10px);
      padding: clamp(10px, 2.4vw, 18px);
      z-index:9999;
    }
    .modal{
      width: min(980px, 100%);
      max-height: calc(100dvh - 2 * clamp(10px, 2.4vw, 18px));
      border-radius: 26px;
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      box-shadow: 0 30px 100px rgba(0,0,0,.70);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-width:0;
    }
    .mhead{
      padding: 14px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      min-width:0;
    }
    .mhead .left{
      display:flex; align-items:center; gap:10px; min-width:0;
    }
    .badgeZ{
      width:36px;height:36px;border-radius: 14px;
      display:grid; place-items:center;
      background: linear-gradient(135deg, rgba(126,224,138,.96), rgba(203,184,137,.92));
      color:#07110d;
      font-weight:900;
      border:1px solid rgba(255,255,255,.18);
      flex:0 0 auto;
    }
    .mtext{min-width:0;}
    .mtext b{
      display:block;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      font-size:14px;
    }
    .mtext span{
      display:block;
      margin-top:2px;
      color: var(--muted);
      font-size:12px;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .xbtn{
      width:42px;height:42px;border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: var(--text);
      cursor:pointer;
      transition: transform var(--trans), background var(--trans);
      display:grid; place-items:center;
      flex:0 0 auto;
    }
    .xbtn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.08); }

    .mbody{
      padding: 14px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      flex: 1 1 auto;
      min-width:0;
    }
    .mcard{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 22px;
      overflow:hidden;
      min-width:0;
    }
    .ph{
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      display:flex;
      justify-content:space-between;
      gap:10px;
      align-items:center;
      font-size: 13px;
      min-width:0;
    }
    .ph b{white-space:nowrap;}
    .ph .chipmini{ max-width: 60%; }

    .imgbox{
      min-height: clamp(190px, 34vh, 380px);
      display:grid;
      place-items:center;
      background:
        linear-gradient(45deg, rgba(255,255,255,.08) 25%, transparent 25%),
        linear-gradient(-45deg, rgba(255,255,255,.08) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, rgba(255,255,255,.08) 75%),
        linear-gradient(-45deg, transparent 75%, rgba(255,255,255,.08) 75%);
      background-size: 26px 26px;
      background-position: 0 0, 0 13px, 13px -13px, -13px 0px;
      padding: 8px;
    }
    .imgbox img{
      width:100%;
      height:100%;
      object-fit:contain;
      display:none;
      border-radius: 14px;
    }
    .empty{
      text-align:center;
      color: var(--muted);
      padding: 18px;
      max-width: 520px;
    }
    .empty b{ color: var(--text); }

    .mfoot{
      padding: 14px;
      border-top: 1px solid rgba(255,255,255,.10);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      flex:0 0 auto;
    }

    /* cute loader */
    .loader{
      display:flex; align-items:center; gap:12px;
      color: var(--muted);
      font-size: 13px;
      min-width:0;
    }
    .blob{
      width:44px;height:44px;border-radius: 18px;
      background: linear-gradient(135deg, rgba(126,224,138,.96), rgba(203,184,137,.92));
      position:relative;
      animation: squish 1.15s ease-in-out infinite;
      box-shadow: 0 20px 60px rgba(126,224,138,.10);
      flex:0 0 auto;
    }
    .blob::before,.blob::after{
      content:"";
      position:absolute;
      width:9px;height:9px;border-radius:99px;
      background: rgba(7,17,13,.85);
      top:14px;
      animation: blink 1.15s ease-in-out infinite;
    }
    .blob::before{ left:12px; }
    .blob::after{ right:12px; }
    @keyframes squish{
      0%,100%{ transform: translateY(0) scale(1); border-radius: 18px; }
      50%{ transform: translateY(-8px) scale(1.05,.92); border-radius: 22px; }
    }
    @keyframes blink{
      0%, 40%, 100%{ transform: scaleY(1); opacity: 1; }
      50%{ transform: scaleY(.2); opacity: .85; }
    }

    .hidden{ display:none !important; }

    /* ---------------- RESPONSIVE ---------------- */
    @media (max-width: 980px){
      .hero{ grid-template-columns: 1fr; }
      .split{ grid-template-columns: 1fr; }
      .contact{ grid-template-columns: 1fr; }
      .grid4{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 760px){
      .mbody{ grid-template-columns: 1fr; }
    }
    @media (max-width: 520px){
      .grid4{ grid-template-columns: 1fr; }
      .navlinks{ display:none; } /* like reference (simple on mobile) */
      .hero, .split, .reasons, .contact{ padding: 14px; }
      .product-card{ border-radius: 22px; }
    }
    @media (max-width: 340px){
      .navright{ display:none; }
      .file{ min-width: 180px; }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="vignette"></div>

  <div class="wrap">
    <!-- NAV -->
    <div class="nav glass">
      <div class="brand">
        <div class="mark">Z</div>
        <span>Zee Studio</span>
      </div>

      <div class="navlinks">
        <a href="#home">Remove Your Background</a>
      </div>

      <div class="navright">
        <span class="chip"><span class="dot"></span> Copyright@zee</span>
      </div>
    </div>

    <!-- HERO -->
    <section id="home" class="glass hero">
      <div class="hero-left">

        <h1 class="title">Remove backgrounds<br>in one click</h1>
        <p class="subtitle">
          Upload your photo and get a transparent PNG result. Smooth edges, clean cutouts.
        </p>


        <!-- UPLOAD (main action like reference â€œopen catalogâ€) -->
        <div id="remove" class="uploadbox">
          <form id="uploadForm">
            <div class="row">
              <div class="file">
                <input id="imageInput" type="file" name="image" accept="image/*" required />
              </div>
              <div class="row">
                <button class="btn primary" type="submit" id="submitBtn">Remove Background</button>
                <button class="btn ghost" type="button" id="clearBtn">Clear</button>
              </div>
            </div>

            <div class="meta" id="fileMeta" style="display:none;">
              <span class="chipmini" id="metaName">File: -</span>
              <span class="chipmini" id="metaSize">Size: -</span>
              <span class="chipmini" id="metaType">Type: -</span>
            </div>
          </form>
        </div>

      </div>

      <div class="hero-right">
        <div class="product-card">
          <div class="plant">
            <div class="zbadge">Z</div>
          </div>
          <button class="btn primary" type="button" onclick="document.getElementById('imageInput').click()">
            Upload image 
          </button>
        </div>
      </div>
    </section>

    <footer>
      <div>Copyright@zee</div>
      <div>Z Background Remover </div>
    </footer>
  </div>

  <!-- POPUP MODAL (result) -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="mTitle">
      <div class="mhead">
        <div class="left">
          <div class="badgeZ">Z</div>
          <div class="mtext">
            <b id="mTitle">Removing Background</b>
            <span id="mSub">Please waitâ€¦ refining edges âœ¨</span>
          </div>
        </div>
        <button class="xbtn" id="closeBtn" title="Close">âœ•</button>
      </div>

      <div class="mbody">
        <div class="mcard">
          <div class="ph">
            <b>Original</b>
            <span class="chipmini" id="origPill">â€”</span>
          </div>
          <div class="imgbox">
            <img id="origImg" alt="Original">
            <div class="empty" id="origEmpty"><b>Waiting for fileâ€¦</b></div>
          </div>
        </div>

        <div class="mcard">
          <div class="ph">
            <b>Result</b>
            <span class="chipmini">PNG â€¢ transparent</span>
          </div>
          <div class="imgbox">
            <img id="resImg" alt="Result">
            <div class="empty" id="resEmpty"><b>Processingâ€¦</b></div>
          </div>
        </div>
      </div>

      <div class="mfoot">
        <div class="loader" id="loader">
          <div class="blob" aria-hidden="true"></div>
          <div style="min-width:0;">
            <b style="color:var(--text); font-size:13px;">Workingâ€¦</b><br>
            <span style="font-size:12px;">Do not close this tab</span>
          </div>
        </div>

        <div class="hidden" id="doneMsg" style="color:var(--muted); font-size:13px;">
          <b style="color:var(--text);">Done!</b> Your PNG is ready ðŸŽ‰
        </div>

        <div class="hidden" id="errMsg" style="color:var(--muted); font-size:13px;">
          <b style="color:var(--text);">Oops!</b> Something failed ðŸ˜­
        </div>

        <div class="row">
          <a class="btn primary hidden" id="downloadBtn" href="#" download>Download PNG</a>
          <button class="btn ghost" id="againBtn" type="button">Remove Another</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const input = document.getElementById('imageInput');
    const form = document.getElementById('uploadForm');
    const submitBtn = document.getElementById('submitBtn');
    const clearBtn = document.getElementById('clearBtn');

    const fileMeta = document.getElementById('fileMeta');
    const metaName = document.getElementById('metaName');
    const metaSize = document.getElementById('metaSize');
    const metaType = document.getElementById('metaType');

    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const againBtn = document.getElementById('againBtn');

    const origImg = document.getElementById('origImg');
    const resImg  = document.getElementById('resImg');
    const origEmpty = document.getElementById('origEmpty');
    const resEmpty  = document.getElementById('resEmpty');
    const origPill  = document.getElementById('origPill');

    const loader  = document.getElementById('loader');
    const doneMsg = document.getElementById('doneMsg');
    const errMsg  = document.getElementById('errMsg');
    const downloadBtn = document.getElementById('downloadBtn');

    const mTitle = document.getElementById('mTitle');
    const mSub   = document.getElementById('mSub');

    function bytesToSize(bytes){
      const sizes = ['Bytes','KB','MB','GB'];
      if (!bytes) return '0 Bytes';
      const i = Math.floor(Math.log(bytes) / Math.log(1024));
      return (bytes / Math.pow(1024, i)).toFixed(i ? 2 : 0) + ' ' + sizes[i];
    }

    function openModal(){
      overlay.style.display = 'grid';
      overlay.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      overlay.style.display = 'none';
      overlay.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';
    }

    function setLoading(){
      mTitle.textContent = "Removing Background";
      mSub.textContent   = "Please waitâ€¦ refining edges âœ¨";

      loader.classList.remove('hidden');
      doneMsg.classList.add('hidden');
      errMsg.classList.add('hidden');

      downloadBtn.classList.add('hidden');
      downloadBtn.href = '#';

      resImg.src = '';
      resImg.style.display = 'none';
      resEmpty.style.display = 'block';
      resEmpty.innerHTML = "<b>Processingâ€¦</b>";
    }

    function setDone(outputUrl){
      mTitle.textContent = "Background Removed!";
      mSub.textContent   = "Download your transparent PNG ðŸŽ‰";

      loader.classList.add('hidden');
      doneMsg.classList.remove('hidden');
      errMsg.classList.add('hidden');

      resImg.src = outputUrl + '?t=' + Date.now();
      resImg.style.display = 'block';
      resEmpty.style.display = 'none';

      downloadBtn.href = outputUrl;
      downloadBtn.classList.remove('hidden');
    }

    function setError(msg, details){
      mTitle.textContent = "Failed";
      mSub.textContent   = "Check XAMPP + Python and try again.";

      loader.classList.add('hidden');
      doneMsg.classList.add('hidden');
      errMsg.classList.remove('hidden');

      const safe = (msg || "Unknown error").replace(/</g, "&lt;");
      resEmpty.style.display = 'block';
      resImg.style.display = 'none';
      resEmpty.innerHTML = "<b>" + safe + "</b><br><span style='font-size:12px; color:rgba(242,243,241,.6);'>Open console for details.</span>";

      downloadBtn.classList.add('hidden');

      if(details) console.error("Server/Python details:", details);
    }

    function showFileMeta(file){
      fileMeta.style.display = 'flex';
      metaName.textContent = "File: " + file.name;
      metaSize.textContent = "Size: " + bytesToSize(file.size);
      metaType.textContent = "Type: " + (file.type || "unknown");
    }

    function clearAll(){
      input.value = '';
      fileMeta.style.display = 'none';

      origImg.src = '';
      origImg.style.display = 'none';
      origEmpty.style.display = 'block';
      origPill.textContent = "â€”";

      resImg.src = '';
      resImg.style.display = 'none';
      resEmpty.style.display = 'block';
      resEmpty.innerHTML = "<b>Processingâ€¦</b>";

      downloadBtn.classList.add('hidden');
      downloadBtn.href = '#';
    }

    input.addEventListener('change', (e)=>{
      const file = e.target.files && e.target.files[0];
      if(!file) return;
      showFileMeta(file);

      const url = URL.createObjectURL(file);
      origImg.src = url;
      origImg.style.display = 'block';
      origEmpty.style.display = 'none';
      origPill.textContent = file.name;
    });

    clearBtn.addEventListener('click', clearAll);

    closeBtn.addEventListener('click', closeModal);
    overlay.addEventListener('click', (e)=>{ if(e.target === overlay) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && overlay.style.display === 'grid') closeModal(); });

    againBtn.addEventListener('click', ()=>{
      closeModal();
      clearAll();
    });

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();

      const file = input.files && input.files[0];
      if(!file){
        alert("Please choose an image first.");
        return;
      }

      openModal();
      setLoading();

      submitBtn.disabled = true;
      submitBtn.style.opacity = '.75';

      try{
        const fd = new FormData();
        fd.append('image', file);

        const res = await fetch('upload.php', { method:'POST', body: fd });
        const data = await res.json().catch(()=>null);

        if(!res.ok || !data || !data.ok){
          setError(data?.error || "Server error.", data?.details);
        } else {
          setDone(data.output);
        }
      } catch (err) {
        setError("Network error. Use http://localhost/... and ensure Apache is running.", null);
      } finally {
        submitBtn.disabled = false;
        submitBtn.style.opacity = '';
      }
    });
  </script>
</body>
</html>
